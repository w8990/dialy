# 交友社区应用 - Daily

基于 uni-app x 开发的跨端交友社区应用，支持 iOS、Android、H5、微信小程序多端发布。

## 项目特性

- 📱 跨端支持：iOS、Android、H5、微信小程序
- 🎨 现代UI：简洁美观的界面设计
- 🔐 安全认证：多种登录方式，完善的安全机制
- 📷 媒体分享：支持图片、视频、语音动态发布
- 💬 实时通讯：私信聊天功能
- 🔍 智能推荐：基于兴趣和地理位置的内容推荐
- 🛡️ 隐私保护：完善的隐私设置和举报机制

## 技术栈

- **前端框架**: uni-app x + Vue 3
- **开发语言**: TypeScript (UTS)
- **云服务**: uniCloud (阿里云)
- **数据库**: MySQL
- **存储**: 阿里云 OSS
- **即时通讯**: WebSocket

## 项目结构

```
dialy/
├── pages/              # 页面目录
│   ├── index/         # 首页（广场）
│   ├── discover/      # 发现页
│   ├── publish/       # 发布页
│   ├── message/       # 消息页
│   ├── profile/       # 个人主页
│   ├── auth/          # 认证相关
│   └── post/          # 动态详情
├── utils/             # 工具类
│   ├── constants.uts  # 常量定义
│   ├── storage.uts    # 本地存储
│   ├── request.uts    # 网络请求
│   ├── auth.uts       # 认证工具
│   └── media.uts      # 媒体处理
├── components/        # 公共组件
├── static/           # 静态资源
├── uniCloud-aliyun/  # 云服务配置
└── 交友社区开发文档.md # 详细开发文档
```

## 核心功能

### MVP阶段 (已实现)

✅ **用户认证**
- 手机号短信验证码登录
- 微信登录集成  
- Apple ID 登录（iOS）
- 用户资料管理

✅ **动态系统**
- 图文动态发布
- 短视频发布（≤60s）
- 语音动态（≤60s）
- 话题标签系统
- 位置信息标记

✅ **社交功能**
- 广场时间线（推荐/最新）
- 关注/取关功能
- 点赞、评论、分享
- 动态详情页

✅ **消息系统**
- 私信会话列表
- 实时聊天功能

### 待开发功能

🔲 **发现功能**
- 热门话题榜
- 附近的人
- 兴趣推荐

🔲 **通知中心**
- 点赞、评论、关注通知
- 系统通知

🔲 **安全机制**
- 内容审核
- 举报处理
- 用户拉黑

## 开发环境

### 环境要求

- HBuilderX 3.8+
- Node.js 16+
- uni-app x 运行时

### 安装步骤

1. **克隆项目**
   ```bash
   git clone [项目地址]
   cd dialy
   ```

2. **配置环境**
   - 使用 HBuilderX 打开项目
   - 配置 uniCloud 服务（需要注册阿里云账号）
   - 在 `manifest.json` 中配置应用信息

3. **准备资源**
   - 根据 `static/图标资源说明.md` 准备图标文件
   - 配置第三方登录密钥

4. **运行项目**
   - 在 HBuilderX 中选择运行平台
   - 点击运行到指定平台

### 配置说明

1. **应用配置** (`manifest.json`)
   - 修改 appid
   - 配置应用名称和图标
   - 设置权限和功能模块

2. **云服务配置**
   - 在 uniCloud 控制台创建服务空间
   - 上传云函数
   - 配置数据库

3. **第三方服务**
   - 微信开放平台应用注册
   - 苹果开发者账号配置
   - 短信服务配置

## API 接口

详细的 API 接口文档请参考 `交友社区开发文档.md`

### 主要接口

- **认证相关**: `/api/auth/*`
- **用户相关**: `/api/me`, `/api/users/*`
- **动态相关**: `/api/posts/*`, `/api/feed/*`
- **社交相关**: `/api/follows/*`, `/api/comments/*`
- **消息相关**: `/api/conversations/*`, `/api/messages/*`

## 部署

### 云端部署

1. **云函数部署**
   ```bash
   # 在 HBuilderX 中右击 uniCloud-aliyun
   # 选择"上传云函数"
   ```

2. **数据库初始化**
   ```bash
   # 在 uniCloud 控制台执行数据库脚本
   # 参考开发文档中的数据模型设计
   ```

### 客户端打包

1. **App 打包**
   - Android: 生成 APK/AAB
   - iOS: 生成 IPA 文件

2. **小程序发布**
   - 微信小程序：提交审核
   - 其他小程序平台

3. **H5 部署**
   - 构建静态文件
   - 部署到 CDN 或服务器

## 开发规范

- 使用 TypeScript 严格模式
- 遵循 Vue 3 组合式 API 规范
- 统一的代码格式化和 Lint 规则
- Git 提交信息规范

## 性能优化

- 图片懒加载和压缩
- 虚拟列表处理大量数据
- 接口防抖和缓存策略
- 路由懒加载

## 安全措施

- 前端数据验证和加密
- API 接口鉴权和限流
- 内容安全过滤
- 用户隐私保护

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交代码
4. 创建 Pull Request

## 许可证

本项目采用 MIT 许可证

## 支持

如有问题或建议，请提交 Issue 或联系开发团队。

---

⭐ 如果这个项目对你有帮助，请给个星标支持！